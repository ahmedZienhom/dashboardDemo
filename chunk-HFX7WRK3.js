import{a as L,b as G,c as T,d as I,e as M,f as U,g as q,i as B,j as O,k as V}from"./chunk-G2TIJ6QF.js";import"./chunk-MNWXOYMR.js";import{c as k,j as D,t as R,u as z}from"./chunk-C2AWYGKS.js";import{Ab as y,Ka as E,Pa as x,T as C,Va as f,_a as F,cb as r,db as l,eb as b,lb as P,mb as A,oa as S,ub as n,vb as N,za as o}from"./chunk-YJEK7Y54.js";import"./chunk-4CLCTAJ7.js";var w=(h,t,s)=>({"border-red-700 text-red-800":h,"border-gray-300 text-gray-900":t,"border-green-600 text-green-600":s}),j=(h,t,s)=>({"text-red-500":h,"text-gray-500":t,"text-green-500":s}),Z=(h,t,s)=>({" text-red-800":h,"border-gray-300 text-gray-900":t,"border-green-600 text-green-600":s});function H(h,t){if(h&1&&(r(0,"p",19),n(1),l()),h&2){let s=A();o(),N(s.msgError)}}var $=class h{_FormBuilder=C(B);_AuthService=C(V);_PLATFORM_ID=C(S);_Router=C(R);msgError;registerGroup=this._FormBuilder.nonNullable.group({name:[null,[G.required,G.minLength(3),G.pattern(/^[a-zA-Z\s]+$/)]],email:[null,[G.required,G.email]],password:[null,[G.required,G.minLength(8)]],rePassword:[null],phone:[null,[G.required,G.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword});confirmPassword(t){return t.get("password")?.value===t.get("rePassword")?.value?null:{mismatch:!0}}register(){this.registerGroup.valid?this._AuthService.addAccount(this.registerGroup.value).subscribe({next:t=>{t.message=="success"&&(this._Router.navigate(["/"]),D(this._PLATFORM_ID)&&localStorage.setItem("token",t.token))},error:t=>{this.msgError=t.error.message}}):this.registerGroup.markAllAsTouched()}static \u0275fac=function(s){return new(s||h)};static \u0275cmp=E({type:h,selectors:[["app-sign-up"]],decls:46,vars:52,consts:[[1,"flex","flex-col","items-center","justify-center","w-full","max-w-md","p-6","space-y-4","bg-white","rounded-lg","shadow","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl"],[1,"w-64","md:w-96",3,"ngSubmit","formGroup"],[1,"relative","z-0","w-full","mb-5","group"],["formControlName","name","type","name","name","floating_name","id","floating_name","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_name",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],[1,"text-blue-400","mt-5","mb-2"],[1,"fa","fa-exclamation-circle"],["formControlName","email","type","email","name","floating_email","id","floating_email","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-nonefocus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],["formControlName","password","type","password","name","floating_password","id","floating_password","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-nonefocus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],["formControlName","rePassword","type","password","name","repeat_password","id","floating_repeat_password","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-nonefocus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_repeat_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],["formControlName","phone","type","tel","name","floating_phone","id","floating_phone","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_phone",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],["type","submit",1,"mx-auto","block","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center"],[1,"text-sm","font-light","text-gray-500"],["routerLink","/login",1,"font-medium","text-blue-600","hover:underline"],[1,"rounded-md","bg-red-300","text-red-500","p-4"]],template:function(s,e){if(s&1&&(r(0,"div",0)(1,"h1",1),n(2," Create an account "),l(),r(3,"form",2),P("ngSubmit",function(){return e.register()}),r(4,"div",3),b(5,"input",4),r(6,"label",5),n(7,"name"),l(),r(8,"p",6),b(9,"i",7),n(10," write a valid name"),l()(),r(11,"div",3),b(12,"input",8),r(13,"label",9),n(14,"Email address"),l(),r(15,"p",6),b(16,"i",7),n(17," write a valid email"),l()(),r(18,"div",3),b(19,"input",10),r(20,"label",11),n(21,"Password"),l(),r(22,"p",6),b(23,"i",7),n(24," write at least 8 characters"),l()(),r(25,"div",3),b(26,"input",12),r(27,"label",13),n(28,"Confirm password"),l(),r(29,"p",6),b(30,"i",7),n(31," rewrite your password"),l()(),r(32,"div",3),b(33,"input",14),r(34,"label",15),n(35,"Phone number"),l(),r(36,"p",6),b(37,"i",7),n(38," write a valid phone number"),l()(),r(39,"button",16),n(40,"Submit"),l()(),r(41,"p",17),n(42," Already have an account? "),r(43,"a",18),n(44,"Sign in"),l()(),x(45,H,2,1,"p",19),l()),s&2){let a,i,u,p,g,m,_,v,d,c;o(3),f("formGroup",e.registerGroup),o(2),f("ngClass",y(12,w,((a=e.registerGroup.get("name"))==null?null:a.errors)&&((a=e.registerGroup.get("name"))==null?null:a.touched),!((a=e.registerGroup.get("name"))!=null&&a.errors&&((a=e.registerGroup.get("name"))!=null&&a.touched)),((a=e.registerGroup.get("name"))==null?null:a.valid)&&((a=e.registerGroup.get("name"))==null?null:a.touched))),o(),f("ngClass",y(16,j,((i=e.registerGroup.get("name"))==null?null:i.errors)&&((i=e.registerGroup.get("name"))==null?null:i.touched),!((i=e.registerGroup.get("name"))!=null&&i.errors&&((i=e.registerGroup.get("name"))!=null&&i.touched)),((i=e.registerGroup.get("name"))==null?null:i.valid)&&((i=e.registerGroup.get("name"))==null?null:i.touched))),o(6),f("ngClass",y(20,w,((u=e.registerGroup.get("email"))==null?null:u.errors)&&((u=e.registerGroup.get("email"))==null?null:u.touched),!((u=e.registerGroup.get("email"))!=null&&u.errors&&((u=e.registerGroup.get("email"))!=null&&u.touched)),((u=e.registerGroup.get("email"))==null?null:u.valid)&&((u=e.registerGroup.get("email"))==null?null:u.touched))),o(),f("ngClass",y(24,j,((p=e.registerGroup.get("email"))==null?null:p.errors)&&((p=e.registerGroup.get("email"))==null?null:p.touched),!((p=e.registerGroup.get("email"))!=null&&p.errors&&((p=e.registerGroup.get("email"))!=null&&p.touched)),((p=e.registerGroup.get("email"))==null?null:p.valid)&&((p=e.registerGroup.get("email"))==null?null:p.touched))),o(6),f("ngClass",y(28,w,((g=e.registerGroup.get("password"))==null?null:g.errors)&&((g=e.registerGroup.get("password"))==null?null:g.touched),!((g=e.registerGroup.get("password"))!=null&&g.errors&&((g=e.registerGroup.get("password"))!=null&&g.touched)),((g=e.registerGroup.get("password"))==null?null:g.valid)&&((g=e.registerGroup.get("password"))==null?null:g.touched))),o(),f("ngClass",y(32,Z,((m=e.registerGroup.get("password"))==null?null:m.errors)&&((m=e.registerGroup.get("password"))==null?null:m.touched),!((m=e.registerGroup.get("password"))!=null&&m.errors&&((m=e.registerGroup.get("password"))!=null&&m.touched)),((m=e.registerGroup.get("password"))==null?null:m.valid)&&((m=e.registerGroup.get("password"))==null?null:m.touched))),o(6),f("ngClass",y(36,w,e.registerGroup.getError("mismatch")&&((_=e.registerGroup.get("rePassword"))==null?null:_.touched),!(e.registerGroup.getError("mismatch")&&((_=e.registerGroup.get("rePassword"))!=null&&_.touched)),!e.registerGroup.getError("mismatch")&&((_=e.registerGroup.get("rePassword"))==null?null:_.touched))),o(),f("ngClass",y(40,w,e.registerGroup.getError("mismatch")&&((v=e.registerGroup.get("rePassword"))==null?null:v.touched),!(e.registerGroup.getError("mismatch")&&((v=e.registerGroup.get("rePassword"))!=null&&v.touched)),!e.registerGroup.getError("mismatch")&&((v=e.registerGroup.get("rePassword"))==null?null:v.touched))),o(6),f("ngClass",y(44,w,((d=e.registerGroup.get("phone"))==null?null:d.errors)&&((d=e.registerGroup.get("phone"))==null?null:d.touched),!((d=e.registerGroup.get("phone"))!=null&&d.errors&&((d=e.registerGroup.get("phone"))!=null&&d.touched)),((d=e.registerGroup.get("phone"))==null?null:d.valid)&&((d=e.registerGroup.get("phone"))==null?null:d.touched))),o(),f("ngClass",y(48,w,((c=e.registerGroup.get("phone"))==null?null:c.errors)&&((c=e.registerGroup.get("phone"))==null?null:c.touched),!((c=e.registerGroup.get("phone"))!=null&&c.errors&&((c=e.registerGroup.get("phone"))!=null&&c.touched)),((c=e.registerGroup.get("phone"))==null?null:c.valid)&&((c=e.registerGroup.get("phone"))==null?null:c.touched))),o(11),F(e.msgError?45:-1)}},dependencies:[O,M,L,T,I,U,q,k,z],encapsulation:2})};export{$ as SignUpComponent};

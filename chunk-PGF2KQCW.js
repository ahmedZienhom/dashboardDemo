import{a as N,b,c as D,d as R,e as A,f as L,g as G,h as M,i as T,j as q,k as P}from"./chunk-G2TIJ6QF.js";import"./chunk-MNWXOYMR.js";import{c as F,j as k,t as E,u as I}from"./chunk-C2AWYGKS.js";import{Ab as c,Ka as w,Pa as v,T as p,Va as d,_a as _,cb as t,db as a,eb as f,lb as x,mb as S,oa as y,ub as s,vb as C,za as g}from"./chunk-YJEK7Y54.js";import"./chunk-4CLCTAJ7.js";var h=(m,i,u)=>({"border-red-700 text-red-800":m,"border-gray-300 text-gray-900":i,"border-green-600 text-greborder-green-600":u}),V=(m,i,u)=>({"text-red-500":m,"text-gray-500":i,"text-green-500":u});function z(m,i){if(m&1&&(t(0,"p",14),s(1),a()),m&2){let u=S();g(),C(u.msgError)}}var B=class m{_FormBuilder=p(T);_AuthService=p(P);_PLATFORM_ID=p(y);_Router=p(E);valid=!0;msgError="";loginform=this._FormBuilder.group({email:[null,[b.required,b.email]],password:[null,[b.required,b.minLength(8)]]});login(){this.loginform.valid&&this._AuthService.login(this.loginform.value).subscribe({next:i=>{i.message=="success"&&(this._Router.navigate(["/"]),k(this._PLATFORM_ID)&&localStorage.setItem("token",i.token))},error:i=>{this.msgError=i.error.message}})}static \u0275fac=function(u){return new(u||m)};static \u0275cmp=w({type:m,selectors:[["app-sign-in"]],decls:28,vars:22,consts:[[1,"flex","flex-col","items-center","justify-center","w-full","p-6","space-y-4","bg-white","rounded-lg","shadow","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl"],[1,"w-64","md:w-96",3,"ngSubmit","formGroup"],[1,"relative","z-0","w-full","mb-5","group"],["formControlName","email","type","email","name","floating_email","id","floating_email","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-nonefocus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],[1,"text-blue-400","mt-5","mb-2"],[1,"fa","fa-exclamation-circle"],["formControlName","password","type","password","name","floating_password","id","floating_password","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-nonefocus:outline-none","focus:ring-0","focus:border-blue-600","peer",3,"ngClass"],["for","floating_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6",3,"ngClass"],["type","submit",1,"text-white","block","mx-auto","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["routerLink","/forget",1,"font-medium","text-blue-600","hover:underline","dark:text-blue-500"],["routerLink","/register",1,"font-medium","text-blue-600","hover:underline","dark:text-blue-500"],[1,"rounded-md","bg-red-300","text-red-500","p-4"]],template:function(u,e){if(u&1&&(t(0,"div",0)(1,"h1",1),s(2," log in "),a(),t(3,"form",2),x("ngSubmit",function(){return e.login()}),t(4,"div",3),f(5,"input",4),t(6,"label",5),s(7,"Email address"),a(),t(8,"p",6),f(9,"i",7),s(10," write a valid email"),a()(),t(11,"div",3),f(12,"input",8),t(13,"label",9),s(14,"password"),a(),t(15,"p",6),f(16,"i",7),s(17," write at least 8 characters"),a()(),t(18,"button",10),s(19,"login"),a()(),t(20,"p",11)(21,"a",12),s(22," forget password ?"),a()(),t(23,"p",11),s(24," Don't have an account yet? "),t(25,"a",13),s(26,"Sign up"),a()(),v(27,z,2,1,"p",14),a()),u&2){let r,l,o,n;g(3),d("formGroup",e.loginform),g(2),d("ngClass",c(6,h,((r=e.loginform.get("email"))==null?null:r.errors)&&((r=e.loginform.get("email"))==null?null:r.touched),!((r=e.loginform.get("email"))!=null&&r.errors&&((r=e.loginform.get("email"))!=null&&r.touched)),((r=e.loginform.get("email"))==null?null:r.valid)&&((r=e.loginform.get("email"))==null?null:r.touched))),g(),d("ngClass",c(10,V,((l=e.loginform.get("email"))==null?null:l.errors)&&((l=e.loginform.get("email"))==null?null:l.touched),!((l=e.loginform.get("email"))!=null&&l.errors&&((l=e.loginform.get("email"))!=null&&l.touched)),((l=e.loginform.get("email"))==null?null:l.valid)&&((l=e.loginform.get("email"))==null?null:l.touched))),g(6),d("ngClass",c(14,h,((o=e.loginform.get("password"))==null?null:o.errors)&&((o=e.loginform.get("password"))==null?null:o.touched),!((o=e.loginform.get("password"))!=null&&o.errors&&((o=e.loginform.get("password"))!=null&&o.touched)),((o=e.loginform.get("password"))==null?null:o.valid)&&((o=e.loginform.get("password"))==null?null:o.touched))),g(),d("ngClass",c(18,h,((n=e.loginform.get("password"))==null?null:n.errors)&&((n=e.loginform.get("password"))==null?null:n.touched),!((n=e.loginform.get("password"))!=null&&n.errors&&((n=e.loginform.get("password"))!=null&&n.touched)),((n=e.loginform.get("password"))==null?null:n.valid)&&((n=e.loginform.get("password"))==null?null:n.touched))),g(14),_(e.msgError?27:-1)}},dependencies:[q,A,N,D,R,M,L,G,F,I],encapsulation:2})};export{B as SignInComponent};
